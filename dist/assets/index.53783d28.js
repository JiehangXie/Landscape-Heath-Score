import{p as e,a as t,r as a,o as l,c as s,b as o,F as i,w as r,d as n,_ as c,e as d,i as p,f as u,g as f,h as g,R as m}from"./vendor.1042c93f.js";const h={},v=r();e("data-v-ef4f699e");const y=o("svg",{t:"1623815233093",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"17555",width:"20",height:"20"},[o("path",{d:"M1020.335198 967.419678l-51.020683-111.992721a39.9974 39.9974 0 0 0-72.795269 33.157845l25.246359 55.412398-821.138626-0.047997 175.212612-409.293396 134.791238 254.103484a39.9974 39.9974 0 0 0 72.667277-4.383715l76.970997-200.122992 33.725807 69.275497a39.9974 39.9974 0 1 0 71.923325-35.013724l-73.99519-151.990121a39.9974 39.9974 0 0 0-73.299235 3.151795l-78.4669 204.034738-44.637099-84.15453 172.884763-445.291056 246.479979 555.963862a40.0054 40.0054 0 1 0 73.131246-32.421892L602.522356 23.84901a39.9974 39.9974 0 0 0-73.8512 1.735887l-182.708123 470.569413-38.653488-72.859264a40.101393 40.101393 0 0 0-36.997595-21.222621 39.9974 39.9974 0 0 0-35.101719 24.222426l-231.984921 541.916775A39.9974 39.9974 0 0 0 39.99892 1023.944004L983.937564 1024a39.9974 39.9974 0 0 0 36.397634-56.580322z",fill:"#4A90E2","p-id":"17556"})],-1),x=o("b",{style:{"font-size":"17px","margin-left":"15px"}},"Landscape-Heath Score",-1),w=n("Beta"),b=n("About"),_=o("div",{class:"support"},[o("h3",null,"Based on Open Source Project"),o("div",{class:"inner"},[o("img",{src:"/assets/paddle.233f30e5.png"}),o("img",{src:"/assets/vue.8c4d8983.png"}),o("img",{src:"/assets/element.e55b0739.svg"}),o("img",{src:"/assets/echarts.51bf5741.png"})])],-1),S={class:"footer"},L=o("a",{href:"https://github.com/JiehangXie/Landscape-Heath-Score"},[o("svg",{t:"1623841485419",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2469",width:"30",height:"30"},[o("path",{d:"M465.981 1001.74a89.578 89.578 0 0 1-89.889-88.955l-0.356-63.666c-176.662 38.422-213.927-74.93-213.927-74.93-28.895-73.372-70.523-92.873-70.523-92.873-57.61-39.446 4.364-38.645 4.364-38.645 63.71 4.452 97.28 65.447 97.28 65.447 56.631 97.058 148.569 69.009 184.765 52.803 5.699-41.049 22.172-69.053 40.337-84.947-141.045-16.028-289.303-70.523-289.303-313.79 0-69.32 24.799-125.952 65.447-170.429-6.589-16.028-28.316-80.584 6.144-168.025 0 0 53.337-17.052 174.659 65.09a609.28 609.28 0 0 1 158.943-21.37c53.915 0.223 108.276 7.257 159.031 21.37C814.186 6.679 867.434 23.73 867.434 23.73c34.549 87.485 12.822 152.042 6.233 168.025 40.693 44.433 65.358 101.109 65.358 170.43 0 243.89-148.57 297.583-289.926 313.299 22.751 19.723 43.053 58.323 43.053 117.582 0 84.992-0.312 119.674-0.312 119.674a89.622 89.622 0 0 1-89.8 89H465.98z",fill:"#ffffff","p-id":"2470"})])],-1),j=o("span",{style:{"margin-left":"30px"}},null,-1),z=o("a",{href:"https://gitee.com/xiejiehang/Landscape-Heath-Score"},[o("svg",{t:"1623955745667",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1755",width:"30",height:"30"},[o("path",{d:"M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m259.2-569.6H480c-12.8 0-25.6 12.8-25.6 25.6v64c0 12.8 12.8 25.6 25.6 25.6h176c12.8 0 25.6 12.8 25.6 25.6v12.8c0 41.6-35.2 76.8-76.8 76.8h-240c-12.8 0-25.6-12.8-25.6-25.6V416c0-41.6 35.2-76.8 76.8-76.8h355.2c12.8 0 25.6-12.8 25.6-25.6v-64c0-12.8-12.8-25.6-25.6-25.6H416c-105.6 0-188.8 86.4-188.8 188.8V768c0 12.8 12.8 25.6 25.6 25.6h374.4c92.8 0 169.6-76.8 169.6-169.6v-144c0-12.8-12.8-25.6-25.6-25.6z",fill:"#ffffff","p-id":"1756"})])],-1),C=o("span",{style:{"margin-left":"30px"}},null,-1),A=o("a",{href:"mailto:xiejiehang@gmail.com"},[o("svg",{t:"1623841624652",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3676",width:"30",height:"30"},[o("path",{d:"M938.666667 853.333333 85.333333 853.333333c-47.061333 0-85.333333-38.272-85.333333-85.333333L0 256c0-47.061333 38.272-85.333333 85.333333-85.333333l853.333333 0c47.061333 0 85.333333 38.272 85.333333 85.333333l0 512C1024 815.061333 985.728 853.333333 938.666667 853.333333zM85.333333 213.333333c-23.530667 0-42.666667 19.136-42.666667 42.666667l0 512c0 23.530667 19.136 42.666667 42.666667 42.666667l853.333333 0c23.530667 0 42.666667-19.136 42.666667-42.666667L981.333333 256c0-23.530667-19.136-42.666667-42.666667-42.666667L85.333333 213.333333z","p-id":"3677",fill:"#ffffff"}),o("path",{d:"M512 622.741333 137.749333 380.586667c-9.898667-6.421333-12.736-19.605333-6.336-29.504s19.605333-12.714667 29.504-6.336L512 571.925333 863.082667 344.746667c9.898667-6.378667 23.104-3.562667 29.504 6.336s3.562667 23.082667-6.336 29.504L512 622.741333z","p-id":"3678",fill:"#ffffff"}),o("path",{d:"M128.021333 725.333333c-6.890667 0-13.674667-3.328-17.770667-9.493333-6.549333-9.813333-3.904-23.04 5.909333-29.589333l192-128c9.813333-6.549333 23.061333-3.904 29.589333 5.909333 6.549333 9.813333 3.904 23.04-5.909333 29.589333l-192 128C136.192 724.16 132.074667 725.333333 128.021333 725.333333z","p-id":"3679",fill:"#ffffff"}),o("path",{d:"M895.978667 725.333333c-4.053333 0-8.170667-1.173333-11.818667-3.584l-192-128c-9.813333-6.549333-12.458667-19.776-5.909333-29.589333 6.528-9.813333 19.754667-12.458667 29.589333-5.909333l192 128c9.813333 6.549333 12.458667 19.776 5.909333 29.589333C909.653333 722.005333 902.869333 725.333333 895.978667 725.333333z","p-id":"3680",fill:"#ffffff"})])],-1),k=n(" © 2021 SCULAB All rights reserved. ");t();const B=v(((e,t,r,n,c,d)=>{const p=a("el-tag"),u=a("el-menu-item"),f=a("el-menu"),g=a("el-affix"),m=a("el-header"),h=a("router-view"),B=a("el-main"),E=a("el-col"),M=a("el-row"),H=a("el-footer");return l(),s(i,null,[o(m,null,{default:v((()=>[o(g,{offset:0},{default:v((()=>[o(f,{"default-active":e.activeIndex,class:"el-menu-demo",mode:"horizontal",onSelect:e.handleSelect},{default:v((()=>[o(u,{index:"1"},{default:v((()=>[y,x,o(p,{size:"mini",style:{"margin-left":"10px"}},{default:v((()=>[w])),_:1})])),_:1}),o(u,{index:"2"},{default:v((()=>[b])),_:1})])),_:1},8,["default-active","onSelect"])])),_:1})])),_:1}),o(B,null,{default:v((()=>[o(h)])),_:1}),o(H,null,{default:v((()=>[o(M,null,{default:v((()=>[o(E,null,{default:v((()=>[_])),_:1})])),_:1}),o(M,null,{default:v((()=>[o(E,null,{default:v((()=>[o("div",S,[o(M,{type:"flex",class:"row-bg",justify:"center",align:"middle"},{default:v((()=>[o(E,{span:12},{default:v((()=>[L,j,z,C,A])),_:1}),o(E,{span:12},{default:v((()=>[k])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1})],64)}));h.render=B,h.__scopeId="data-v-ef4f699e";const E={data:()=>({}),mounted(){let e;document.getElementById("slider").addEventListener("input",(function(t){e=t.target.value,document.querySelector(".foreground-img").style.width=`${e}%`,document.querySelector(".slider-button").style.left=`calc(${e}% - 18px)`}))},methods:{preview_box(){this.$alert('<img src="https://gitee.com/xiejiehang/Landscape-Heath-Score/raw/main/docs/demo_result.png">',"Preview",{dangerouslyUseHTMLString:!0,customClass:"winClass"})},upload_process(){c("Processing, please wait for a moment.")},upload_error(){c.error("There was an error occured!")},upload_success(e){c.success({message:"Processing completed!",type:"success"}),this.$router.push({name:"result",params:{json_result:JSON.stringify(e)}})}}},M=o("h1",{style:{color:"#555","font-weight":"bold","font-size":"34px","text-align":"center"}},"Landscape-Health Score",-1),H=o("p",{style:{color:"#888","font-weight":"bold","font-size":"21px","text-align":"center"}},"A tool for evaluating landscape health benefits and supporting evidence-based design",-1),O=o("div",{class:"container"},[o("div",{class:"img background-img"}),o("div",{class:"img foreground-img"}),o("input",{type:"range",min:"1",max:"100",value:"50",class:"slider",name:"slider",id:"slider"}),o("div",{class:"slider-button"})],-1),P=n("Preview"),I=o("h3",{style:{color:"#888","font-weight":"bold","font-size":"20px","text-align":"center"}},"Upload Your Own Image",-1),J=o("i",{class:"el-icon-upload"},null,-1),T=o("div",{class:"el-upload__text"},[n("Drag the image here,or "),o("em",null,"Click this")],-1);E.render=function(e,t,r,n,c,p){const u=a("el-col"),f=a("el-row"),g=a("el-button"),m=a("el-upload");return l(),s(i,null,[o(f,{type:"flex",class:"row-bg",justify:"center",align:"middle",style:{"margin-top":"20px"}},{default:d((()=>[o(u,{span:12},{default:d((()=>[M,H])),_:1})])),_:1}),o(f,{type:"flex",class:"row-bg",justify:"center",align:"middle"},{default:d((()=>[O])),_:1}),o(f,{style:{"margin-top":"15px"},type:"flex",class:"row-bg",justify:"center",align:"middle"},{default:d((()=>[o(g,{type:"success",size:"medium",class:"button",onClick:p.preview_box},{default:d((()=>[P])),_:1},8,["onClick"])])),_:1}),o(f,{style:{"margin-top":"15px"},type:"flex",class:"row-bg",justify:"center",align:"middle"},{default:d((()=>[I])),_:1}),o(f,{style:{"margin-top":"15px"},type:"flex",class:"row-bg",justify:"center"},{default:d((()=>[o(u,{span:12},{default:d((()=>[o(f,{class:"upload-box",type:"flex",justify:"center",align:"middle"},{default:d((()=>[o(m,{class:"upload",drag:"",action:"http://127.0.0.1:5000/api/v1/file",limit:"1",accept:".jpg,.jpeg,.png,.JPG,.JPEG,.PNG","on-progress":p.upload_process,"on-success":p.upload_success,"on-error":e.on-e.error},{default:d((()=>[J,T])),_:1},8,["on-progress","on-success","on-error"])])),_:1})])),_:1})])),_:1})],64)};const D={data:()=>({activeIndex:"1",activeIndex2:"2",image:"",preview_image:[],gvr:0,proportion:Array(),score:Array()}),mounted(){var e=JSON.parse(this.$route.params.json_result),t=JSON.parse(e.score);this.image="data:image/jpg;base64,"+e.image,this.preview_image=[this.image],this.proportion=JSON.parse(e.proportion),this.gvr=e.gvr,this.score=Array(t.relaxed,t.happy,t.focused,t.motivated,t.social,t.depressive),this.proportion_bar(),this.gvr_render(),this.radar()},methods:{proportion_bar(){var e,t=document.getElementById("seg-bar"),a=p(t);(e={title:{text:"Proportion of Landscape Elements",x:"center",y:"top",textAlign:"left"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},yAxis:{type:"category",data:["Others","Road","Sidewalk","Building","Wall","Fence","Pole","Vegetation","Terrain","Sky"],axisLabel:{interval:0,rotate:0}},xAxis:{type:"value"},series:[{data:[{value:this.proportion.others,itemStyle:{color:"rgb(64,0,128)"}},{value:this.proportion.road,itemStyle:{color:"rgb(128,0,0)"}},{value:this.proportion.sidewalk,itemStyle:{color:"rgb(0,128,0)"}},{value:this.proportion.building,itemStyle:{color:"rgb(128,128,0)"}},{value:this.proportion.wall,itemStyle:{color:"rgb(0,0,128)"}},{value:this.proportion.fence,itemStyle:{color:"rgb(128,0,128)"}},{value:this.proportion.pole,itemStyle:{color:"rgb(0,128,128)"}},{value:this.proportion.vegetation,itemStyle:{color:"rgb(192,0,0)"}},{value:this.proportion.terrain,itemStyle:{color:"rgb(64,128,0)"}},{value:this.proportion.sky,itemStyle:{color:"rgb(192,128,0)"}}],type:"bar",showBackground:!0,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)"}}],grid:{top:"15%",left:"0%",right:"0%",bottom:"10%",containLabel:!0}})&&a.setOption(e)},gvr_render(){var e,t=document.getElementById("totalscore"),a=p(t);(e={series:[{type:"gauge",startAngle:180,endAngle:0,min:0,max:1,splitNumber:8,axisLine:{lineStyle:{width:8,color:[[.15,"#FF6E76"],[.25,"#FDDD60"],[1,"#91CC75"]]}},pointer:{icon:"path://M12.8,0.7l12,40.1H0.7L12.8,0.7z",length:"12%",width:20,offsetCenter:[0,"-60%"],itemStyle:{color:"auto"}},axisTick:{length:12,lineStyle:{color:"auto",width:2}},splitLine:{length:20,lineStyle:{color:"auto",width:2}},axisLabel:{color:"#464646",fontSize:12,distance:-70,formatter:function(e){return.5===e||.25===e||.125===e?"":void 0}},title:{offsetCenter:[0,"-20%"],fontSize:18},detail:{fontSize:30,offsetCenter:[0,"0%"],valueAnimation:!0,formatter:function(e){return Math.round(100*e)+"%"},color:"auto"},data:[{value:this.gvr,name:"Green Vision Rate"}]}]})&&a.setOption(e)},radar(){var e,t=document.getElementById("qscore"),a=p(t);(e={tooltip:{},radar:{indicator:[{name:"Relaxed",max:10},{name:"Happy",max:10},{name:"Focused",max:10},{name:"Motivated",max:10},{name:"Social",max:10},{name:"Depressive",max:10}]},series:[{name:"Emotion",type:"radar",data:[{value:this.score,name:"Emotion"}]}]})&&a.setOption(e)}}},F={class:"card-header"},N=o("span",null,"Image Segmentation",-1),R=o("i",{class:"el-icon-warning-outline",style:{"margin-left":"10px"}},null,-1),$={class:"block"},q=n("> "),G=o("div",{class:"image-slot"},[n(" Loading……"),o("span",{class:"dot"},"...")],-1),V={style:{padding:"14px","text-align":"center"}},U=o("i",{class:"el-icon-download"},"Download",-1),Y=o("div",{class:"card-header"},[o("span",null,"Result")],-1),W=o("div",{id:"seg-bar",style:{width:"800px",height:"300px"}},null,-1),X=o("div",{id:"totalscore",style:{width:"430px",height:"430px"}},null,-1),K=o("div",{id:"qscore",style:{width:"350px",height:"300px"}},null,-1),Q={href:"../"},Z=o("i",{class:"el-icon-back"}," Change another one",-1);D.render=function(e,t,r,n,c,p){const u=a("el-tooltip"),f=a("el-image"),g=a("el-button"),m=a("el-card"),h=a("el-col"),v=a("el-row");return l(),s(i,null,[o(v,{type:"flex",class:"row-bg",justify:"center"},{default:d((()=>[o(h,{span:12},{default:d((()=>[o(m,{class:"box-card","body-style":{padding:"0px"}},{header:d((()=>[o("div",F,[N,o(u,{class:"item",effect:"dark",content:"The program is being tested and the results are for reference only.",placement:"right"},{default:d((()=>[R])),_:1})])])),default:d((()=>[o("div",null,[o("div",$,[o(f,{src:c.image,style:{width:"100%",height:"600px"},fit:e.scale-e.down,"preview-src-list":c.preview_image},{placeholder:d((()=>[G])),default:d((()=>[q])),_:1},8,["src","fit","preview-src-list"]),o("div",V,[o("a",{href:c.image,download:"seg.png",style:{"”color":"#fff","text-decoration":"none"}},[o(g,{type:"success",size:"medium",class:"button"},{default:d((()=>[U])),_:1})],8,["href"])])])])])),_:1})])),_:1})])),_:1}),o(v,{type:"flex",class:"row-bg",justify:"center",style:{"margin-top":"30px"}},{default:d((()=>[o(h,{span:12},{default:d((()=>[o(m,{class:"box-card",shadow:"hover"},{header:d((()=>[Y])),default:d((()=>[o(v,{type:"flex",class:"row-bg",justify:"center"},{default:d((()=>[W])),_:1}),o(v,{type:"flex",class:"row-bg",justify:"center"},{default:d((()=>[o(h,{span:12,class:"main-emotion"},{default:d((()=>[X])),_:1}),o(h,{span:12},{default:d((()=>[K])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),o(v,{type:"flex",class:"row-bg",justify:"center",style:{"margin-top":"15px"}},{default:d((()=>[o("a",Q,[o(g,{type:"success",size:"medium",class:"button"},{default:d((()=>[Z])),_:1})])])),_:1})],64)};const ee=[{path:"/",component:E},{path:"/result",component:D,name:"result"}],te=u({history:f(),routes:ee});te.beforeEach(((e,t,a)=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.pageYOffset=0,a()}));const ae=g(h);ae.use(te),ae.use(m),ae.mount("#app");
